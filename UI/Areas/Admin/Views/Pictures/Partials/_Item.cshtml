@model PictureViewModel

@{
}
<style>
    .picture{
        display: block;
        width: auto;
        height: auto;
        max-width: 100%;
    }
    .picture-div{
        padding: 20px;
    }
</style>
<div class="picture-div" id="Picture-@Model.PictureLinkId">

    @switch (Model.Picture.Type)
    {
        case PictureType.Picture:
            <img src="@Model.Picture.Link" class="picture" />
            break;
        case PictureType.YouTube:
            <iframe id="video-frame" src="@Model.Picture.Link" allowfullscreen="allowfullscreen" frameborder="0" width="100%" height="315"></iframe>
            break;
    }
    
    <a id="deleteLink-@Model.PictureLinkId" class="btn btn-outline-secondary">Отвязать</a>
    <script>
        $("#deleteLink-@Model.PictureLinkId").on("click", function () {
            $.ajax({
                url: "/Admin/Pictures/DeleteLink?LinkId=@Model.PictureLinkId",
                type: "Get",
                success: function (html) {
                    $("#Picture-" + @Model.PictureLinkId).remove();
                },
                error: function () {
                    console.log("error")
                }
            });
        })
    </script>
</div>

